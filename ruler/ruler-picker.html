<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />
    <title>Canvas Ruler Picker</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="ruler-container">
      <div class="value-display">
        <span id="current-value">0.0</span>
        <span id="unit">kg</span>
      </div>
      <canvas id="rulerCanvas"></canvas>
    </div>

    <script src="ruler.js"></script>
    <script>
      // --- Configuration ---
      const rulerElement = document.getElementById("rulerCanvas");
      const valueElement = document.getElementById("current-value");
      const unitElement = document.getElementById("unit");

      const ruler = new RulerPicker(rulerElement, {
        min: 0,
        max: 30,
        initialValue: 17.1, // Or any starting value
        unit: "m",
        tickInterval: 0.1,
        majorTickInterval: 1, // show major tick every interval unit
        pixelsPerUnit: 50, // How many pixels represent 1 unit (e.g., 1kg)
        onChange: (value) => {
          valueElement.textContent = value.toFixed(1); // Update displayed value
          console.log("Selected value:", value);
        },
        onUnitChange: (unit) => {
          unitElement.textContent = unit;
        },
      });
    </script>
  </body>
</html>
